# AI4Pain Paper 2 - ML Experiment Controller

**Repository Path:** `/Users/vkamarthi24/Desktop/Work/Personal Projects/2025-2026/AI4Pain/Paper 2/ML-experiment-loop/`

---

## CRITICAL: No Emojis Policy
**NEVER use emojis in any output, code comments, reports, or documentation. All communication must be text-only.**

---

## Current Status Overview
**See [`STATUS.md`](STATUS.md) for current phase and checkpoint information.**

**High-Level Plan:** See [`PLAN.md`](PLAN.md) for experimental roadmap and todo checklist.

---

## Repository Structure

### Core Documentation
- **`CLAUDE.md`** (this file): Repository index and file structure reference
- **`STATUS.md`**: Dynamic state tracker - current phase, checkpoint status, awaiting approval
- **`PLAN.md`**: High-level experimental plan and todo checklist

### Phase Instructions
- **`phases/STAGE0.md`**: Binary classification silhouette analysis
- **`phases/PHASE0.md`**: 3-class silhouette analysis
- **`phases/PHASE1.md`**: Ensemble exploration (80/20 split)
- **`phases/PHASE2.md`**: Neural net exploration (if needed)
- **`phases/PHASE3.md`**: LOSO validation on top 5 models

### Data
**Note:** The `data/` directory is gitignored and contains sensitive research data.

#### Raw Signals
- **`data/train/`**: Training set raw physiological signals (41 subjects)
- **`data/validation/`**: Validation set raw signals (12 subjects)
- **`data/test/`**: Test set raw signals (12 subjects)
- Each split contains subdirectories: `Bvp/`, `Eda/`, `Resp/`, `SpO2/`
- Files named by subject ID (e.g., `12.csv`, `54.csv`)

#### Extracted Features
- **`data/features/`**: Pre-extracted entropy and complexity features
- Files: `results_{split}_{signal}.csv` (12 files total: 3 splits x 4 signals)
- **Feature columns** (abbreviated in CSV, full names):
  - `pe` - Permutation Entropy (H)
  - `comp` - Statistical Complexity (C)
  - `fisher_shannon` - Fisher-Shannon Information
  - `fisher_info` - Fisher Information
  - `renyipe` - Renyi Permutation Entropy
  - `renyicomp` - Renyi Complexity
  - `tsallispe` - Tsallis Permutation Entropy
  - `tsalliscomp` - Tsallis Complexity
- **Metadata columns**: `file_name`, `signal`, `signallength`, `dimension`, `tau`, `nan_percentage`
- **Label columns** (embedded in feature files):
  - `state` - 3-class label (baseline, low_pain, high_pain)
  - `binaryclass` - Binary label (0 = no pain, 1 = pain)

### Code
- **`src/stage0_binary_silhouette.py`**: Stage 0 execution script
- **`src/phase0_3class_silhouette.py`**: Phase 0 execution script
- **`src/phase1_ensemble_experiments.py`**: Phase 1 execution script
- **`src/phase2_neural_experiments.py`**: Phase 2 execution script (if triggered)
- **`src/phase3_loso_validation.py`**: Phase 3 execution script
- **`src/utils/`**: Shared utilities (data loading, plotting, metrics, reporting)

### Results
All experiment outputs organized by phase in `results/`:
- **`results/stage0_binary/`**: Binary classification silhouette analysis
- **`results/phase0_silhouette/`**: 3-class silhouette analysis
- **`results/phase1_ensembles/`**: Ensemble model results (80/20)
- **`results/phase2_neuralnets/`**: Neural net results (if triggered)
- **`results/phase3_loso/`**: LOSO validation and final report

---

## Workflow

**Every time Claude Code is invoked:**
1. Read this file (CLAUDE.md) for repository structure
2. Read `STATUS.md` to understand current phase and checkpoint status
3. If phase is marked "READY_TO_RUN", read corresponding `phases/PHASEn.md` for instructions
4. Execute the phase using corresponding `src/` script
5. Generate outputs in appropriate `results/` subdirectory
6. Update `STATUS.md` with completion status and checkpoint marker
7. Update `PLAN.md` checklist if phase completed
8. STOP and await human approval

---

## Key Principles
- **CLAUDE.md is static** - only updated when repo structure changes
- **STATUS.md is dynamic** - updated after every phase execution
- **PLAN.md checklist** - updated as waterfall tasks complete
- **Phase instructions** - detailed, precise, chronological steps
- **Code** - OOP design with NumPy-style docstrings
- **Checkpoints** - human approval required between phases
- **No emojis** - all output must be text-only

<claude-mem-context>
# Recent Activity

<!-- This section is auto-generated by claude-mem. Edit content outside the tags. -->

*No recent activity*
</claude-mem-context>